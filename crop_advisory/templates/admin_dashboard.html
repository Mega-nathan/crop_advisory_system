<!DOCTYPE html>
<html>
  <head>
    <title>Complaints Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-50 min-h-screen p-8">
    <h1 class="text-3xl font-bold text-center text-blue-700 mb-6">
      Complaints Dashboard
    </h1>

    <div class="grid gap-4">
      {% for complaint in complaints %}
      <div class="bg-white shadow-md rounded-xl p-4 border">
        <div class="flex justify-between items-center mb-2">
          <h2 class="text-xl font-semibold text-gray-800">
            {{ complaint.farmer_name }} ({{ complaint.crop_type }})
          </h2>
          <span
            class="px-3 py-1 text-sm rounded-full {% if complaint.status == 'Approved' %} bg-green-100 text-green-700 {% elif complaint.status == 'Rejected' %} bg-red-100 text-red-700 {% elif complaint.status == 'Under Review' %} bg-yellow-100 text-yellow-700 {% else %} bg-gray-100 text-gray-700 {% endif %}"
          >
            {{ complaint.status }}
          </span>
        </div>
        <p class="text-gray-600">{{ complaint.description }}</p>
        <img
          src="{{ complaint.image.url }}"
          alt="Crop Image"
          class="mt-2 rounded-lg max-h-48 object-cover"
        />
        <p class="text-sm text-gray-500 mt-1">
          Submitted: {{ complaint.created_at|date:"M d, Y H:i" }}
        </p>
      </div>
      {% empty %}
      <p class="text-center text-gray-500">No complaints submitted yet.</p>
      {% endfor %}
    </div>
  </body>
</html>
